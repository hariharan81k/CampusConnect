<script>
    if (!localStorage.getItem("adminLoggedIn")){
        alert("Admin login required");
        window.location.href = "admin-login.html";
    }
    </script>

<h2>Add Student</h2>

<input placeholder="User ID" id="userid"><br><br>
<input placeholder="Password" id="password"><br><br>
<input placeholder="Name" id="name"><br><br>
<input placeholder="Department" id="dept"><br><br>

<button onclick="addStudent()">Add Student</button>

<script>
    function addStudent() {
    const student = {
        userid: document.getElementById("userid").value,
        password: document.getElementById("password").value,
        name: document.getElementById("name").value
    };

    fetch("https://campus-connect.duckdns.org/api/admin/student", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(student)
    })
    .then(res => res.json())
    .then(() => alert("Student added successfully"));
}

</script>