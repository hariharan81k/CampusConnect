<!DOCTYPE html>
<html>
<head>
    <title>Post Notice</title>
    <link rel="stylesheet" href="css/notice-style.css">
    <script>
    if (!localStorage.getItem("adminLoggedIn")){
        alert("Admin login required");
        window.location.href = "admin-login.html";
    }
    </script>
</head>
<body>

<h2>Admin â€“ Post Notice</h2>

<input id="title" placeholder="Notice Title"><br><br>
<textarea id="description" placeholder="Notice Content"></textarea><br><br>

<button onclick="addNotice()">Post Notice</button>

<script>
function addNotice() {
    const data = {
        title: document.getElementById("title").value,
        description: document.getElementById("description").value
    };

    fetch("http://16.171.137.208:8080/api/admin/notice", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
    })
    .then(res => res.text())
    .then(msg => alert(msg))
    .catch(err => alert("Error adding notice"));
}
</script>

</body>
</html>
